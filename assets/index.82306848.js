import{o as m,c as g,p as G,a as R,b as d,V as U,h as P,E as j,d as A,w as c,r as C,e as i,n as B,f as v,T as _,g as k,v as M,t as D,i as O,j as w,k as H,l as x,m as V,_ as W,F as L,q as Y,s as E,u as Z,x as z,y as X,z as Q,A as K,B as J,C as $,D as ee,G as ae,H as te,I as re,J as se,K as le,L as ne,M as oe,N as ce,O as ie,P as de}from"./vendor.d4b85c60.js";const me=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function e(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(t){if(t.ep)return;t.ep=!0;const l=e(t);fetch(t.href,l)}};me();var ue="/magicardt/assets/icon.982026d5.png",be="/magicardt/assets/pdf-file.c788b7f2.png";var S=(s,r)=>{const e=s.__vccOpts||s;for(const[a,t]of r)e[a]=t;return e};const ge={name:"Spinner"},_e=s=>(G("data-v-127db2cc"),s=s(),R(),s),he={class:"spinner-container"},pe=_e(()=>d("div",{class:"half-circle-spinner mx-auto"},[d("div",{class:"circle circle-1"}),d("div",{class:"circle circle-2"})],-1)),fe=[pe];function ye(s,r,e,a,t,l){return m(),g("div",he,fe)}var ve=S(ge,[["render",ye],["__scopeId","data-v-127db2cc"]]),De="/magicardt/assets/tiny-glass.6259aed8.png";const Ce={name:"Card",components:{Spinner:ve,"vue-load-image":U},props:{cardDatas:Object,setDatas:Object},data(){return{cardback:"",delayShow:!1,icon:ue,isLoaded:!1,pdfFile:be,showMagnifier:!1,tinyGlass:De}},created:function(){this.getCardBackUrl()},computed:{createGradientString(){let s=this.cardDatas.colors;if(s!==""){let e=s.map(l=>l==="W"?"#f3f2f9":l).map(l=>l==="U"?"#246bc6":l).map(l=>l==="B"?"#3b3b3f":l).map(l=>l==="R"?"#ce372d":l).map(l=>l==="G"?"#006744":l),a=Math.round(100/e.length),t=[];if(s.length===1)var r=`background-color: ${e}`;else{for(let n=0;n<e.length;++n)t[n]=e[n]+" "+(a*n+a)+"%",n+1==e.length&&(t[n]=e[n]+" "+(a*n+20)+"%");var r=`background-image: linear-gradient(${t})`}}else var r="background-color: transparent";return r}},methods:{addClick(){this.emitter.emit("addItemEvent")},createPdf(){var s=this.cardDatas.name+"_"+this.setDatas.code,r=this.icon,e=this.cardDatas.image_uris.art_crop,a=document.getElementById("card");P(a,{allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0,height:600,width:1e3,scale:1.8,onclone:function(t){t.getElementById("card").style.backgroundImage="none",t.getElementById("card").style.boxShadow="none"},backgroundColor:"#fcf8e8"}).then(function(t){var l=t.width,n=t.height,h=(l+10)/2*.75,p=(n+200)/2*.75,f=h,b=n/2*.75,u=t.toDataURL("image/jpeg",1),o=new j("","pt",[h,p]),y=new Image,N=new Image;y.src=r,N.src=e,o.addImage(y,"png",192,10,96,96),o.addImage(N,"jpeg",82,130,313,228.5),o.addImage(u,"jpeg",0,400,f,b),o.save(s+".pdf")})},getCardBackUrl(){this.cardback=new URL("/magicardt/assets/cardback.d7e0bd7f.webp",self.location).href},setClick(){this.emitter.emit("showGalleryEvent")},handleZoom(){this.isLoaded=!0;function s(r,e){var a,t,l,n,h;if(a=document.getElementById(r),t=document.getElementsByClassName("card-magnifier-glass")[0],typeof t!="undefined"&&t!=null){let p=function(b){var u,o,y;b.preventDefault(),u=f(b),o=u.x,y=u.y,o>a.width-l/e&&(o=a.width-l/e),o<l/e&&(o=l/e),y>a.height-n/e&&(y=a.height-n/e),y<n/e&&(y=n/e),t.style.left=o-l+"px",t.style.top=y-n+"px",t.style.backgroundPosition="-"+(o*e-l+h)+"px -"+(y*e-n+h)+"px"},f=function(b){var u,o=0,y=0;return b=b||window.event,u=a.getBoundingClientRect(),o=b.pageX-u.left,y=b.pageY-u.top,o=o-window.pageXOffset,y=y-window.pageYOffset,{x:o,y}};t.style.backgroundImage="url('"+a.src+"')",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize=a.width*e+"px "+a.height*e+"px",h=3,l=parseInt(getComputedStyle(t).width.replace(/\D/g,""))/2,n=parseInt(getComputedStyle(t).height.replace(/\D/g,""))/2,t.addEventListener("mousemove",p),a.addEventListener("mousemove",p),t.addEventListener("touchmove",p),a.addEventListener("touchmove",p)}}setTimeout(function(){s("my-card",3)},1e3)}},mounted(){setTimeout(()=>{this.delayShow=!0},1200)}},we={id:"card"},xe={class:"card-magnifier-container"},ke={class:"card-magnifier-glass","data-html2canvas-ignore":"true"},Ae=["src","alt"],Me={key:0},Se=["innerHTML"],Ie={key:0},Le=["src","alt","title"],Te=["innerHTML"],qe={key:0,class:"flavor-separator"},Ee={key:0,class:"artist font-bold"},Ve={key:0,class:"power"},Ne={key:0,class:"power"},Fe=["src"],Be=O("Ajouter"),Oe=["src"],Ge={class:"card"},Re=d("div",{class:"card"},"Le chargement de l'image a \xE9chou\xE9 \u{1F615}",-1);function Ue(s,r,e,a,t,l){const n=C("el-button"),h=C("Spinner"),p=C("vue-load-image");return m(),A(p,{class:"mt-14"},{image:c(()=>[i(_,{name:"el-zoom-in-center",appear:""},{default:c(()=>[e.cardDatas.mana_cost?(m(),g("div",{key:0,id:"gradient",style:B(l.createGradientString)},null,4)):v("",!0)]),_:1}),d("div",we,[d("div",xe,[i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[k(d("div",ke,null,512),[[M,t.showMagnifier]])]),_:1}),k(d("img",{id:"my-card",src:e.cardDatas.image_uris.png||t.cardback,onLoad:r[0]||(r[0]=(...f)=>l.handleZoom&&l.handleZoom(...f)),onError:r[1]||(r[1]=(...f)=>l.handleZoom&&l.handleZoom(...f)),alt:e.cardDatas.image_uris.png||t.cardback,class:"card-img",draggable:"false",ondragstart:"return false"},null,40,Ae),[[M,t.isLoaded]])]),i(_,{name:"bounce",appear:""},{default:c(()=>[e.cardDatas.name?(m(),g("h2",Me,D(e.cardDatas.name),1)):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.mana_cost?(m(),g("p",{key:0,innerHTML:e.cardDatas.mana_cost,class:"mana-cost"},null,8,Se)):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.type_line?(m(),g("p",Ie,D(e.cardDatas.type_line),1)):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.setDatas.icon_svg_uri?(m(),g("a",{key:0,onClick:r[2]||(r[2]=(...f)=>l.setClick&&l.setClick(...f)),class:"set-symbol cursor-pointer"},[d("img",{src:e.setDatas.icon_svg_uri,width:"32",alt:e.setDatas.name,title:e.setDatas.name,draggable:"false",ondragstart:"return false"},null,8,Le)])):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.oracle_text?(m(),g("p",{key:0,innerHTML:e.cardDatas.oracle_text,class:"oracle-text"},null,8,Te)):v("",!0)]),_:1}),e.cardDatas.flavor_text?(m(),g("div",qe)):v("",!0),i(_,{name:"scroll-x-transition",appear:""},{default:c(()=>[e.cardDatas.flavor_text?k((m(),g("p",{key:0,class:"flavor-text"},D(e.cardDatas.flavor_text),513)),[[M,t.delayShow]]):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.artist?(m(),g("span",Ee,"Artiste(s) : "+D(e.cardDatas.artist),1)):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.power?(m(),g("span",Ve,D(e.cardDatas.power)+"/"+D(e.cardDatas.toughness),1)):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.loyalty?(m(),g("span",Ne,"Loyaut\xE9 : "+D(e.cardDatas.loyalty),1)):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.id?(m(),A(n,{key:0,onClick:r[3]||(r[3]=f=>t.showMagnifier=!t.showMagnifier),class:"tiny-glass-btn",title:"Activer/d\xE9sactiver la loupe",color:"#837c5e","data-html2canvas-ignore":"true"},{default:c(()=>[d("img",{src:t.tinyGlass,alt:"glass",draggable:"false",ondragstart:"return false"},null,8,Fe)]),_:1})):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.id?(m(),A(n,{key:0,onClick:l.addClick,class:"add-btn",color:"#837c5e","data-html2canvas-ignore":"true"},{default:c(()=>[Be]),_:1},8,["onClick"])):v("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.id?(m(),A(n,{key:0,onClick:l.createPdf,class:"pdf-file-btn",title:"Cr\xE9er un document PDF",color:"#837c5e","data-html2canvas-ignore":"true"},{default:c(()=>[d("img",{src:t.pdfFile,alt:"pdf",draggable:"false",ondragstart:"return false"},null,8,Oe)]),_:1},8,["onClick"])):v("",!0)]),_:1})])]),preloader:c(()=>[d("div",Ge,[i(h,{"animation-duration":2e3,size:60})])]),error:c(()=>[Re]),_:1})}var Pe=S(Ce,[["render",Ue]]),je="/magicardt/assets/full-logo.c1ec4c33.png",He="/magicardt/assets/glass.a221b95f.png";const q="https://magicardt.herokuapp.com/cards",We={name:"Cart",props:{cardDatas:Object,setDatas:Object},data(){return{fullLogo:je,glass:He,itemName:"",items:[]}},async created(){try{const s=await w.get(q);this.items=s.data}catch(s){console.error(s)}},methods:{async addItem(){const s=await w.post(q,{card_id:this.cardDatas.id,card_image:this.cardDatas.image_uris.small,card_name:this.cardDatas.name,card_price:this.cardDatas.prices.eur===null?"N/A":this.cardDatas.prices.eur.replace(/(\.0+|0+)$/,"").replace(".",","),card_title:this.cardDatas.name+" ("+this.cardDatas.set_name+")",set_icon:this.setDatas.icon_svg_uri,set_name:this.setDatas.name});this.items=[...this.items,s.data]},openFile(s){var r=document.getElementsByClassName("el-table__body");return r[0].setAttribute("id","datatable"),H.convert({anchor:"anchorNewApi-"+s,filename:"Magicardt",format:s,rtl:!0},[{name:"Magicardt",from:{table:"datatable"},fixValue:(e,a,t)=>e.replace(/<br>/gi,`
`).replace(/(<([^>]+)>)/gi,""),removeColumns:[0,2]}])},removeItem(s){const r=s.id;w.delete(`${q}/${r}`),this.items=this.items.filter(e=>e.id!==r)},setClick(s){this.emitter.emit("showCardFromCartEvent",s)}},mounted(){this.emitter.on("addItemEvent",()=>{this.addItem()})},setup(){const s=x([]),r=x(""),e=x(!0),a=V(()=>s.value.filter(t=>!r.value||t.card_name.toLowerCase().includes(r.value.toLowerCase())));return{Delete:W,filterTableData:a,items:s,search:r,show:e}}},Ye={class:"mobileToWork absolute top-0 right-10"},Ze=["src"],ze=["src"],Xe=["onClick"],Qe=["src","alt","title"],Ke=["src","alt","title"];function Je(s,r,e,a,t,l){const n=C("el-table-column"),h=C("el-input"),p=C("el-button"),f=C("el-table");return m(),g(L,null,[d("div",Ye,[i(_,{name:"slide-fade",appear:""},{default:c(()=>[k(d("img",{class:"absolute left-0 z-10",src:t.fullLogo,alt:"magicardt",style:{width:"340px"},draggable:"false",ondragstart:"return false"},null,8,Ze),[[M,a.show]])]),_:1}),d("a",{class:"glass-btn absolute z-10",onClick:r[0]||(r[0]=b=>a.show=!a.show),style:{width:"32.2955px"},draggable:"false",ondragstart:"return false"},[d("img",{src:t.glass,alt:"magicardt"},null,8,ze)]),i(_,{name:"el-zoom-in-top",appear:""},{default:c(()=>[k(i(f,{class:"absolute top-4",data:a.filterTableData,stripe:"","header-cell-style":{background:"#c0bc97"},"row-style":{background:"#f8f8f5"},style:{width:"440px"},"max-height":"410"},{default:c(()=>[i(n,{"min-width":"36",prop:"card_image"},{default:c(b=>[i(_,{name:"el-zoom-in-center",appear:""},{default:c(()=>[d("a",{class:"miniature rounded-sm cursor-pointer",onClick:u=>l.setClick(b.row.card_id)},[d("img",{src:b.row.card_image,alt:b.row.card_name,title:b.row.card_title,draggable:"false",ondragstart:"return false"},null,8,Qe)],8,Xe)]),_:2},1024)]),_:1}),i(n,{"min-width":"96",label:"Nom",prop:"card_name"}),i(n,{"min-width":"24",label:"Set",prop:"set_icon"},{default:c(b=>[i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[d("img",{class:"cursor-help",src:b.row.set_icon,alt:b.row.set_name,title:b.row.set_name,draggable:"false",ondragstart:"return false"},null,8,Ke)]),_:2},1024)]),_:1}),i(n,{"min-width":"40",label:"Prix (\u20AC)",prop:"card_price",align:"right"}),i(n,{"min-width":"40",align:"right"},{header:c(()=>[i(h,{modelValue:a.search,"onUpdate:modelValue":r[1]||(r[1]=b=>a.search=b),size:"small",placeholder:"Filtre"},null,8,["modelValue"])]),default:c(b=>[i(p,{size:"small",type:"danger",icon:a.Delete,onClick:u=>l.removeItem(b.row)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),[[M,a.show]])]),_:1})]),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[k(d("a",{class:"mobileToWork el-button export-btn absolute top-6 right-12",download:"Magicardt.xls",href:"#",id:"anchorNewApi-xls",onClick:r[2]||(r[2]=b=>l.openFile("xls")),draggable:"false",ondragstart:"return false"},"Export",512),[[M,a.show]])]),_:1})],64)}var $e=S(We,[["render",Je],["__scopeId","data-v-1133f60e"]]);const ea="https://api.scryfall.com",aa={name:"Gallery",props:{setDatas:Object},data(){return{cards:[]}},beforeMount(){this.cardsDatas()},methods:{cardsDatas(){w.get(`${ea}/cards/search?include_extras=true&include_variations=true&order=set&q=e%3A${this.setDatas.code}&unique=prints`).then(s=>{var r=s.data.data;this.cards=r.map(e=>{var a;return{id:e.id,name:e.name,image:(a=e==null?void 0:e.image_uris)==null?void 0:a.normal}})}).catch(s=>{console.log(s)})},setClick(s){this.emitter.emit("showCardFromGalleryEvent",s)}}},ta={class:"container my-28 px-16 sm:my-32 sm:px-8 md:my-32 md:px-16 lg:my-40 lg:px-32"},ra=["onClick","src","alt"];function sa(s,r,e,a,t,l){return m(),g("div",ta,[i(Y,{name:"bounce",tag:"div",class:"grid gap-4 sm:gap-8 grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8"},{default:c(()=>[(m(!0),g(L,null,E(t.cards,n=>(m(),g("div",{key:n.id,class:"relative pb-3/2"},[d("img",{onClick:h=>l.setClick(n.id),src:n.image,alt:n.name,class:"card absolute object-cover rounded-lg cursor-pointer",draggable:"false",ondragstart:"return false"},null,8,ra)]))),128))]),_:1})])}var la=S(aa,[["render",sa],["__scopeId","data-v-d9eb594e"]]),na="/magicardt/assets/logo.51514dfd.png";const oa={name:"Logo",data:()=>({logo:na})},ca={class:"inline-block flex justify-center"},ia={class:"w-48",href:"/magicardt/",draggable:"false",ondragstart:"return false"},da=["src"];function ma(s,r,e,a,t,l){return m(),g("div",ca,[i(_,{name:"bounce",appear:""},{default:c(()=>[d("a",ia,[d("img",{src:s.logo,alt:"logo"},null,8,da)])]),_:1})])}var ua=S(oa,[["render",ma],["__scopeId","data-v-05b8db65"]]);function ba(s,r,e="modelValue"){return V({get:()=>s[e],set:a=>r(`update:${e}`,a)})}const ga={props:{label:{type:String,required:!0},modelValue:String,name:{type:String,required:!0},placeholder:{type:String,default:""},successMessage:{type:String,default:""},type:{type:String,default:"text"},value:{type:String,default:""}},setup(s,{emit:r}){const{errorMessage:e,handleBlur:a,handleChange:t,meta:l}=Z(s.name,void 0,{initialValue:s.value});return{errorMessage:e,handleBlur:a,handleChange:t,message:ba(s,r,"modelValue"),meta:l}}},_a=["for"],ha=["name","id","type","value","placeholder"];function pa(s,r,e,a,t,l){return m(),g("div",{class:X(["TextInput",{"has-error":!!a.errorMessage,success:a.meta.valid}])},[d("label",{for:e.name},D(e.label),9,_a),k(d("input",{name:e.name,id:e.name,type:e.type,"onUpdate:modelValue":r[0]||(r[0]=n=>a.message=n),autocomplete:"off",value:a.message,placeholder:e.placeholder,onInput:r[1]||(r[1]=(...n)=>a.handleChange&&a.handleChange(...n)),onBlur:r[2]||(r[2]=(...n)=>a.handleBlur&&a.handleBlur(...n))},null,40,ha),[[z,a.message]]),k(d("p",{class:"help-message"},D(a.errorMessage||e.successMessage),513),[[M,a.errorMessage||a.meta.valid]])],2)}var fa=S(ga,[["render",pa],["__scopeId","data-v-154884b2"]]);const I="https://api.scryfall.com",ya=()=>({cardDatas:{artist:"",colors:"",flavor_text:"",id:"",image_uris:{png:"",border_crop:""},loyalty:"",mana_cost:"",name:"",oracle_text:"",power:"",prices:{eur:"",eur_foil:""},set:"",set_name:"",toughness:"",type_line:""},setDatas:{icon_svg_uri:"",name:""}}),va={name:"App",components:{Card:Pe,Cart:$e,Gallery:la,Logo:ua,Form:Q,TextInput:fa},data(){return{cardDatas:{artist:"",colors:"",flavor_text:"",id:"",image_uris:{png:"",border_crop:""},loyalty:"",mana_cost:"",name:"",oracle_text:"",power:"",prices:{eur:"",eur_foil:""},set:"",set_name:"",toughness:"",type_line:""},currentComponent:"Card",setDatas:{icon_svg_uri:"",name:""},submitTerm:""}},methods:{reset(){Object.assign(this.$data,ya())},showCard(s){w.get(`${I}/cards/${s}`).then(r=>{this.cardDatas=r.data,this.cardDatas.mana_cost=this.formatSymbols(this.cardDatas.mana_cost),this.cardDatas.oracle_text=this.formatOracleText(this.cardDatas.oracle_text)}).then(async()=>{await w.get(`${I}/sets/${this.cardDatas.set}`).then(r=>{this.setDatas=r.data})}).catch(r=>{console.log(r)})},showGallery(){this.selectedCardName="",this.currentComponent="Gallery"},submitForm(){this.currentComponent="Card";let s=this.setTerm,r=this.selectedCardName===""?this.searchTerm:this.selectedCardName;w.get(`${I}/cards/named`,{params:{exact:r,set:s}}).then(e=>{this.cardDatas=e.data,this.cardDatas.mana_cost=this.formatSymbols(this.cardDatas.mana_cost),this.cardDatas.oracle_text=this.formatOracleText(this.cardDatas.oracle_text)}).then(async()=>{await w.get(`${I}/sets/${this.cardDatas.set}`).then(e=>{this.setDatas=e.data})}).catch(()=>{this.onInvalidSubmit(),this.cardDatas.artist="",this.cardDatas.flavor_text="",this.cardDatas.id="",this.cardDatas.image_uris.png=this.cardback,this.cardDatas.loyalty="",this.cardDatas.mana_cost="",this.cardDatas.name="Carte inexistante \u{1F615}",this.cardDatas.oracle_text="",this.cardDatas.power="",this.cardDatas.set="",this.cardDatas.set_name="",this.cardDatas.toughness="",this.cardDatas.type_line="",this.setDatas.icon_svg_uri="",this.setDatas.name=""})}},mounted(){this.emitter.on("showCardFromGalleryEvent",s=>{this.reset(),setTimeout(()=>{this.currentComponent="Card",this.showCard(s)},500)}),this.emitter.on("showCardFromCartEvent",s=>{setTimeout(()=>{this.currentComponent="Card",this.showCard(s)},300)}),this.emitter.on("showGalleryEvent",()=>{setTimeout(()=>{this.showGallery()},100)})},setup(){const s=x([]),r=x(""),e=x(""),a=x([]),t=x("");K(async()=>{await w.get(`${I}/sets`).then(u=>{a.value=u.data.data})}),J(()=>r.value,u=>w.get(`${I}/cards/autocomplete?q=${u}`).then(o=>{s.value=o.data.data}));const l=V(()=>{if(r.value==="")return[];let u=0;return s.value.filter(o=>{if(o.toLowerCase().includes(r.value.toLowerCase())&&u<10)return u++,o})}),n=u=>{e.value=u,r.value=""};function h(u){const o=u.replace(/\n/g,"<br/>");return p(o)}function p(u){return u.replaceAll("{T}",'<abbr class="card-symbol card-symbol-T" title="Engagez ce permanent">{T}</abbr>').replaceAll("{Q}",'<abbr class="card-symbol card-symbol-Q" title="D\xE9gagez ce permanent">{Q}</abbr>').replaceAll("{E}",'<abbr class="card-symbol card-symbol-E" title="Marqueur "\xE9nergie"">{E}</abbr>').replaceAll("{CHAOS}",'<abbr class="card-symbol card-symbol-CHAOS" title="Chaos">{CHAOS}</abbr>').replaceAll("{A}",'<abbr class="card-symbol card-symbol-A" title="Marqueur "gland"">{A}</abbr>').replaceAll("{X}",'<abbr class="card-symbol card-symbol-X" title="Mana g\xE9n\xE9rique : X">{X}</abbr>').replaceAll("{Y}",'<abbr class="card-symbol card-symbol-Y" title="Mana g\xE9n\xE9rique : Y">{Y}</abbr>').replaceAll("{Z}",'<abbr class="card-symbol card-symbol-Z" title="Mana g\xE9n\xE9rique : Z">{Z}</abbr>').replaceAll("{\xBD}",'<abbr class="card-symbol card-symbol-HALF" title="Mana g\xE9n\xE9rique : \xBD">{\xBD}</abbr>').replaceAll("{0}",'<abbr class="card-symbol card-symbol-0" title="Mana : 0">{0}</abbr>').replaceAll("{1}",'<abbr class="card-symbol card-symbol-1" title="Mana g\xE9n\xE9rique : 1">{1}</abbr>').replaceAll("{2}",'<abbr class="card-symbol card-symbol-2" title="Mana g\xE9n\xE9rique : 2">{2}</abbr>').replaceAll("{3}",'<abbr class="card-symbol card-symbol-3" title="Mana g\xE9n\xE9rique : 3">{3}</abbr>').replaceAll("{4}",'<abbr class="card-symbol card-symbol-4" title="Mana g\xE9n\xE9rique : 4">{4}</abbr>').replaceAll("{5}",'<abbr class="card-symbol card-symbol-5" title="Mana g\xE9n\xE9rique : 5">{5}</abbr>').replaceAll("{6}",'<abbr class="card-symbol card-symbol-6" title="Mana g\xE9n\xE9rique : 6">{6}</abbr>').replaceAll("{7}",'<abbr class="card-symbol card-symbol-7" title="Mana g\xE9n\xE9rique : 7">{7}</abbr>').replaceAll("{8}",'<abbr class="card-symbol card-symbol-8" title="Mana g\xE9n\xE9rique : 8">{8}</abbr>').replaceAll("{9}",'<abbr class="card-symbol card-symbol-9" title="Mana g\xE9n\xE9rique : 9">{9}</abbr>').replaceAll("{10}",'<abbr class="card-symbol card-symbol-10" title="Mana g\xE9n\xE9rique : 10">{10}</abbr>').replaceAll("{11}",'<abbr class="card-symbol card-symbol-11" title="Mana g\xE9n\xE9rique : 11">{11}</abbr>').replaceAll("{12}",'<abbr class="card-symbol card-symbol-12" title="Mana g\xE9n\xE9rique : 12">{12}</abbr>').replaceAll("{13}",'<abbr class="card-symbol card-symbol-13" title="Mana g\xE9n\xE9rique : 13">{13}</abbr>').replaceAll("{14}",'<abbr class="card-symbol card-symbol-14" title="Mana g\xE9n\xE9rique : 14">{14}</abbr>').replaceAll("{15}",'<abbr class="card-symbol card-symbol-15" title="Mana g\xE9n\xE9rique : 15">{15}</abbr>').replaceAll("{16}",'<abbr class="card-symbol card-symbol-16" title="Mana g\xE9n\xE9rique : 16">{16}</abbr>').replaceAll("{17}",'<abbr class="card-symbol card-symbol-17" title="Mana g\xE9n\xE9rique : 17">{18}</abbr>').replaceAll("{18}",'<abbr class="card-symbol card-symbol-18" title="Mana g\xE9n\xE9rique : 18">{18}</abbr>').replaceAll("{19}",'<abbr class="card-symbol card-symbol-19" title="Mana g\xE9n\xE9rique : 19">{19}</abbr>').replaceAll("{20}",'<abbr class="card-symbol card-symbol-20" title="Mana g\xE9n\xE9rique : 20">{20}</abbr>').replaceAll("{100}",'<abbr class="card-symbol card-symbol-100" title="Mana g\xE9n\xE9rique : 100">{100}</abbr>').replaceAll("{1000000}",'<abbr class="card-symbol card-symbol-1000000" title="Mana g\xE9n\xE9rique : 1000000">{1000000}</abbr>').replaceAll("{\u221E}",'<abbr class="card-symbol card-symbol-INFINITY" title="Mana g\xE9n\xE9rique : \u221E">{\u221E}</abbr>').replaceAll("{W}",'<abbr class="card-symbol card-symbol-W" title="Mana blanc">{W}</abbr>').replaceAll("{U}",'<abbr class="card-symbol card-symbol-U" title="Mana bleu">{U}</abbr>').replaceAll("{B}",'<abbr class="card-symbol card-symbol-B" title="Mana noir">{B}</abbr>').replaceAll("{R}",'<abbr class="card-symbol card-symbol-R" title="Mana rouge">{R}</abbr>').replaceAll("{G}",'<abbr class="card-symbol card-symbol-G" title="Mana vert">{G}</abbr>').replaceAll("{C}",'<abbr class="card-symbol card-symbol-C" title="Mana incolore">{C}</abbr>').replaceAll("{S}",'<abbr class="card-symbol card-symbol-S" title="Mana neige">{S}</abbr>')}function f(){const u=document.querySelector(".submit-btn");u.classList.add("invalid"),setTimeout(()=>{u.classList.remove("invalid")},1e3)}const b=$(ee({name:ae().nonempty("Ce champ est requis...").min(2,{message:"Saisissez 2 caract\xE8res minimum..."})}));return{formatOracleText:h,formatSymbols:p,onInvalidSubmit:f,searchCardNames:l,searchResults:s,searchTerm:r,selectCardName:n,selectedCardName:e,setsList:a,setTerm:t,validationSchema:b}}},Da={class:"inline-block container mx-auto"},Ca={key:0,class:"autocompletion w-96 rounded bg-light-color border px-3 py-3 space-y-1 absolute z-20"},wa={class:"px-1 pt-1 pb-2 font-bold border-b border-gray-200"},xa=["onClick"],ka={key:0,class:"selected-name text-lg pt-2 absolute"},Aa=O(" Vous avez s\xE9lectionn\xE9 : "),Ma={class:"font-semibold"},Sa=d("button",{class:"submit-btn bg-primary-color cursor-pointer",type:"submit"}," Afficher ",-1);function Ia(s,r,e,a,t,l){const n=C("Cart"),h=C("Logo"),p=C("TextInput"),f=C("el-option"),b=C("el-select"),u=C("Form");return m(),A(te,null,{default:c(()=>[i(le,{class:"min-w-screen min-h-screen flex items-center"},{default:c(()=>[i(n,{cardDatas:t.cardDatas,setDatas:t.setDatas},null,8,["cardDatas","setDatas"]),i(h),d("div",Da,[d("div",{class:"bg-container",style:B({backgroundImage:`url(${t.cardDatas.image_uris.border_crop})`})},null,4),i(u,{id:"card-form",modelValue:t.submitTerm,"onUpdate:modelValue":r[2]||(r[2]=o=>t.submitTerm=o),onSubmit:l.submitForm,"validation-schema":a.validationSchema,onInvalidSubmit:a.onInvalidSubmit},{default:c(()=>[i(p,{modelValue:a.searchTerm,"onUpdate:modelValue":r[0]||(r[0]=o=>a.searchTerm=o),name:"name",type:"text",label:"Nom de la carte :",placeholder:"Exemple : The Wanderer","success-message":"Bonne recherche !"},null,8,["modelValue"]),i(re,null,{default:c(()=>[a.searchCardNames.length?(m(),g("ul",Ca,[d("li",wa," Affichage de "+D(a.searchCardNames.length)+" r\xE9sultat(s) sur "+D(a.searchResults.length),1),(m(!0),g(L,null,E(a.searchCardNames,o=>(m(),g("li",{key:o,onClick:y=>a.selectCardName(o),class:"hover:bg-lightest-primary-color p-1 cursor-pointer"},D(o),9,xa))),128))])):v("",!0)]),_:1}),i(b,{class:"sets-list font-medievalsharp absolute z-10",modelValue:a.setTerm,"onUpdate:modelValue":r[1]||(r[1]=o=>a.setTerm=o),filterable:"",clearable:"",placeholder:"Pr\xE9cisez le set (facultatif)"},{default:c(()=>[(m(!0),g(L,null,E(a.setsList,o=>(m(),A(f,{key:o.setTerm,label:o.name,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a.selectedCardName?(m(),g("p",ka,[Aa,d("span",Ma,D(a.selectedCardName),1)])):v("",!0),Sa]),_:1},8,["modelValue","onSubmit","validation-schema","onInvalidSubmit"]),(m(),A(se(t.currentComponent),{cardDatas:t.cardDatas,setDatas:t.setDatas},null,8,["cardDatas","setDatas"]))])]),_:1})]),_:1})}var La=S(va,[["render",Ia]]);var Ta=ne({theme:!1});const qa="modulepreload",F={},Ea="/magicardt/",Va=function(r,e){return!e||e.length===0?r():Promise.all(e.map(a=>{if(a=`${Ea}${a}`,a in F)return;F[a]=!0;const t=a.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const n=document.createElement("link");if(n.rel=t?"stylesheet":qa,t||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),t)return new Promise((h,p)=>{n.addEventListener("load",h),n.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>r())};async function Na(){(await Va(()=>import("./webfontloader.cd097671.js").then(function(r){return r.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Na();const Fa=de(),T=oe(La);T.use(Ta);T.use(ce,{locale:ie});T.config.globalProperties.emitter=Fa;T.mount("#app");
