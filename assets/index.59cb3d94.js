import{o as m,c as g,p as R,a as j,b as d,V as P,h as H,E as W,d as A,w as c,r as C,e as i,n as G,f as y,T as _,g as k,v as M,t as D,i as U,j as w,k as Y,l as x,m as F,_ as Z,F as L,q as z,s as N,u as X,x as Q,y as K,z as J,A as $,B as ee,C as ae,D as te,G as re,H as se,I as le,J as ne,K as oe,L as ce,M as ie,N as de,O as me,P as ue}from"./vendor.d4b85c60.js";const be=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}};be();var ge="/magicardt/assets/icon.982026d5.png",_e="/magicardt/assets/pdf-file.c788b7f2.png";var S=(l,t)=>{const e=l.__vccOpts||l;for(const[a,r]of t)e[a]=r;return e};const he={name:"Spinner"},pe=l=>(R("data-v-127db2cc"),l=l(),j(),l),fe={class:"spinner-container"},ye=pe(()=>d("div",{class:"half-circle-spinner mx-auto"},[d("div",{class:"circle circle-1"}),d("div",{class:"circle circle-2"})],-1)),ve=[ye];function De(l,t,e,a,r,s){return m(),g("div",fe,ve)}var Ce=S(he,[["render",De],["__scopeId","data-v-127db2cc"]]),we="/magicardt/assets/tiny-glass.6259aed8.png";const xe={name:"Card",components:{Spinner:Ce,"vue-load-image":P},props:{cardDatas:Object,setDatas:Object},data(){return{cardback:"",delayShow:!1,icon:ge,isLoaded:!1,pdfFile:_e,showMagnifier:!1,tinyGlass:we}},created:function(){this.getCardBackUrl()},computed:{createGradientString(){let l=this.cardDatas.colors;if(l!==""){let e=l.map(s=>s==="W"?"#f3f2f9":s).map(s=>s==="U"?"#246bc6":s).map(s=>s==="B"?"#3b3b3f":s).map(s=>s==="R"?"#ce372d":s).map(s=>s==="G"?"#006744":s),a=Math.round(100/e.length),r=[];if(l.length===1)var t=`background-color: ${e}`;else{for(let n=0;n<e.length;++n)r[n]=e[n]+" "+(a*n+a)+"%",n+1==e.length&&(r[n]=e[n]+" "+(a*n+20)+"%");var t=`background-image: linear-gradient(${r})`}}else var t="background-color: transparent";return t}},methods:{addClick(){this.emitter.emit("addItemEvent")},createPdf(){var l=this.cardDatas.name+"_"+this.setDatas.code,t=this.icon,e=this.cardDatas.image_uris.art_crop,a=document.getElementById("card"),r=this.cardDatas.image_uris.png;H(a,{allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0,height:600,width:1e3,scale:1.8,onclone:function(s){s.getElementById("card").style.backgroundImage="none",s.getElementById("card").style.boxShadow="none"},backgroundColor:"#fcf8e8"}).then(function(s){var n=s.width,p=s.height,h=(n+10)/2*.75,f=(p+200)/2*.75,b=h,u=p/2*.75,o=new W("","pt",[h,f]),v=s.toDataURL("image/jpeg",1),O=new Image,q=new Image,E=new Image;O.src=t,q.crossOrigin="Anonymous",q.src=e+"?not-from-cache-please",E.crossOrigin="Anonymous",E.src=r+"?not-from-cache-please",o.addImage(O,"png",192,10,96,96),o.addImage(q,"jpeg",82,130,313,228.5),o.addImage(v,"jpeg",0,400,b,u),o.addImage(E,"jpeg",14,413,156.1,217.91),o.save(l+".pdf")})},getCardBackUrl(){this.cardback=new URL("/magicardt/assets/cardback.d7e0bd7f.webp",self.location).href},setClick(){this.emitter.emit("showGalleryEvent")},handleZoom(){this.isLoaded=!0;function l(t,e){var a,r,s,n,p;if(a=document.getElementById(t),r=document.getElementsByClassName("card-magnifier-glass")[0],typeof r!="undefined"&&r!=null){let h=function(b){var u,o,v;b.preventDefault(),u=f(b),o=u.x,v=u.y,o>a.width-s/e&&(o=a.width-s/e),o<s/e&&(o=s/e),v>a.height-n/e&&(v=a.height-n/e),v<n/e&&(v=n/e),r.style.left=o-s+"px",r.style.top=v-n+"px",r.style.backgroundPosition="-"+(o*e-s+p)+"px -"+(v*e-n+p)+"px"},f=function(b){var u,o=0,v=0;return b=b||window.event,u=a.getBoundingClientRect(),o=b.pageX-u.left,v=b.pageY-u.top,o=o-window.pageXOffset,v=v-window.pageYOffset,{x:o,y:v}};r.style.backgroundImage="url('"+a.src+"')",r.style.backgroundRepeat="no-repeat",r.style.backgroundSize=a.width*e+"px "+a.height*e+"px",p=3,s=parseInt(getComputedStyle(r).width.replace(/\D/g,""))/2,n=parseInt(getComputedStyle(r).height.replace(/\D/g,""))/2,r.addEventListener("mousemove",h),a.addEventListener("mousemove",h),r.addEventListener("touchmove",h),a.addEventListener("touchmove",h)}}setTimeout(function(){l("my-card",3)},1e3)}},mounted(){setTimeout(()=>{this.delayShow=!0},1200)}},ke={id:"card"},Ae={class:"card-magnifier-container"},Me={class:"card-magnifier-glass","data-html2canvas-ignore":"true"},Se=["src","alt"],Ie={key:0},Le=["innerHTML"],Te={key:0},qe=["src","alt","title"],Ee=["innerHTML"],Ve={key:0,class:"flavor-separator"},Ne={key:0,class:"artist font-bold"},Fe={key:0,class:"power"},Oe={key:0,class:"power"},Be=["src"],Ge=U("Ajouter"),Ue=["src"],Re={class:"card"},je=d("div",{class:"card"},"Le chargement de l'image a \xE9chou\xE9 \u{1F615}",-1);function Pe(l,t,e,a,r,s){const n=C("el-button"),p=C("Spinner"),h=C("vue-load-image");return m(),A(h,{class:"mt-14"},{image:c(()=>[i(_,{name:"el-zoom-in-center",appear:""},{default:c(()=>[e.cardDatas.mana_cost?(m(),g("div",{key:0,id:"gradient",style:G(s.createGradientString)},null,4)):y("",!0)]),_:1}),d("div",ke,[d("div",Ae,[i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[k(d("div",Me,null,512),[[M,r.showMagnifier]])]),_:1}),k(d("img",{id:"my-card",src:e.cardDatas.image_uris.png||r.cardback,onLoad:t[0]||(t[0]=(...f)=>s.handleZoom&&s.handleZoom(...f)),onError:t[1]||(t[1]=(...f)=>s.handleZoom&&s.handleZoom(...f)),alt:e.cardDatas.image_uris.png||r.cardback,class:"card-img",draggable:"false",ondragstart:"return false"},null,40,Se),[[M,r.isLoaded]])]),i(_,{name:"bounce",appear:""},{default:c(()=>[e.cardDatas.name?(m(),g("h2",Ie,D(e.cardDatas.name),1)):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.mana_cost?(m(),g("p",{key:0,innerHTML:e.cardDatas.mana_cost,class:"mana-cost"},null,8,Le)):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.type_line?(m(),g("p",Te,D(e.cardDatas.type_line),1)):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.setDatas.icon_svg_uri?(m(),g("a",{key:0,onClick:t[2]||(t[2]=(...f)=>s.setClick&&s.setClick(...f)),class:"set-symbol cursor-pointer"},[d("img",{src:e.setDatas.icon_svg_uri,width:"32",alt:e.setDatas.name,title:e.setDatas.name,draggable:"false",ondragstart:"return false"},null,8,qe)])):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.oracle_text?(m(),g("p",{key:0,innerHTML:e.cardDatas.oracle_text,class:"oracle-text"},null,8,Ee)):y("",!0)]),_:1}),e.cardDatas.flavor_text?(m(),g("div",Ve)):y("",!0),i(_,{name:"scroll-x-transition",appear:""},{default:c(()=>[e.cardDatas.flavor_text?k((m(),g("p",{key:0,class:"flavor-text"},D(e.cardDatas.flavor_text),513)),[[M,r.delayShow]]):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.artist?(m(),g("span",Ne,"Artiste(s) : "+D(e.cardDatas.artist),1)):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.power?(m(),g("span",Fe,D(e.cardDatas.power)+"/"+D(e.cardDatas.toughness),1)):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.loyalty?(m(),g("span",Oe,"Loyaut\xE9 : "+D(e.cardDatas.loyalty),1)):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.id?(m(),A(n,{key:0,onClick:t[3]||(t[3]=f=>r.showMagnifier=!r.showMagnifier),class:"tiny-glass-btn",title:"Activer/d\xE9sactiver la loupe",color:"#837c5e","data-html2canvas-ignore":"true"},{default:c(()=>[d("img",{src:r.tinyGlass,alt:"glass",draggable:"false",ondragstart:"return false"},null,8,Be)]),_:1})):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.id?(m(),A(n,{key:0,onClick:s.addClick,class:"add-btn",color:"#837c5e","data-html2canvas-ignore":"true"},{default:c(()=>[Ge]),_:1},8,["onClick"])):y("",!0)]),_:1}),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[e.cardDatas.id?(m(),A(n,{key:0,onClick:s.createPdf,class:"pdf-file-btn",title:"Cr\xE9er un document PDF",color:"#837c5e","data-html2canvas-ignore":"true"},{default:c(()=>[d("img",{src:r.pdfFile,alt:"pdf",draggable:"false",ondragstart:"return false"},null,8,Ue)]),_:1},8,["onClick"])):y("",!0)]),_:1})])]),preloader:c(()=>[d("div",Re,[i(p,{"animation-duration":2e3,size:60})])]),error:c(()=>[je]),_:1})}var He=S(xe,[["render",Pe]]),We="/magicardt/assets/full-logo.c1ec4c33.png",Ye="/magicardt/assets/glass.a221b95f.png";const V="https://magicardt.herokuapp.com/cards",Ze={name:"Cart",props:{cardDatas:Object,setDatas:Object},data(){return{fullLogo:We,glass:Ye,itemName:"",items:[]}},async created(){try{const l=await w.get(V);this.items=l.data}catch(l){console.error(l)}},methods:{async addItem(){const l=await w.post(V,{card_id:this.cardDatas.id,card_image:this.cardDatas.image_uris.small,card_name:this.cardDatas.name,card_price:this.cardDatas.prices.eur===null?"N/A":this.cardDatas.prices.eur.replace(/(\.0+|0+)$/,"").replace(".",","),card_title:this.cardDatas.name+" ("+this.cardDatas.set_name+")",set_icon:this.setDatas.icon_svg_uri,set_name:this.setDatas.name});this.items=[...this.items,l.data]},openFile(l){var t=document.getElementsByClassName("el-table__body");return t[0].setAttribute("id","datatable"),Y.convert({anchor:"anchorNewApi-"+l,filename:"Magicardt",format:l,rtl:!0},[{name:"Magicardt",from:{table:"datatable"},fixValue:(e,a,r)=>e.replace(/<br>/gi,`
`).replace(/(<([^>]+)>)/gi,""),removeColumns:[0,2]}])},removeItem(l){const t=l.id;w.delete(`${V}/${t}`),this.items=this.items.filter(e=>e.id!==t)},setClick(l){this.emitter.emit("showCardFromCartEvent",l)}},mounted(){this.emitter.on("addItemEvent",()=>{this.addItem()})},setup(){const l=x([]),t=x(""),e=x(!0),a=F(()=>l.value.filter(r=>!t.value||r.card_name.toLowerCase().includes(t.value.toLowerCase())));return{Delete:Z,filterTableData:a,items:l,search:t,show:e}}},ze={class:"mobileToWork absolute top-0 right-10"},Xe=["src"],Qe=["src"],Ke=["onClick"],Je=["src","alt","title"],$e=["src","alt","title"];function ea(l,t,e,a,r,s){const n=C("el-table-column"),p=C("el-input"),h=C("el-button"),f=C("el-table");return m(),g(L,null,[d("div",ze,[i(_,{name:"slide-fade",appear:""},{default:c(()=>[k(d("img",{class:"absolute left-0 z-10",src:r.fullLogo,alt:"magicardt",style:{width:"340px"},draggable:"false",ondragstart:"return false"},null,8,Xe),[[M,a.show]])]),_:1}),d("a",{class:"glass-btn absolute z-10",onClick:t[0]||(t[0]=b=>a.show=!a.show),style:{width:"32.2955px"},draggable:"false",ondragstart:"return false"},[d("img",{src:r.glass,alt:"magicardt"},null,8,Qe)]),i(_,{name:"el-zoom-in-top",appear:""},{default:c(()=>[k(i(f,{class:"absolute top-4",data:a.filterTableData,stripe:"","header-cell-style":{background:"#c0bc97"},"row-style":{background:"#f8f8f5"},style:{width:"440px"},"max-height":"410"},{default:c(()=>[i(n,{"min-width":"36",prop:"card_image"},{default:c(b=>[i(_,{name:"el-zoom-in-center",appear:""},{default:c(()=>[d("a",{class:"miniature rounded-sm cursor-pointer",onClick:u=>s.setClick(b.row.card_id)},[d("img",{src:b.row.card_image,alt:b.row.card_name,title:b.row.card_title,draggable:"false",ondragstart:"return false"},null,8,Je)],8,Ke)]),_:2},1024)]),_:1}),i(n,{"min-width":"96",label:"Nom",prop:"card_name"}),i(n,{"min-width":"24",label:"Set",prop:"set_icon"},{default:c(b=>[i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[d("img",{class:"cursor-help",src:b.row.set_icon,alt:b.row.set_name,title:b.row.set_name,draggable:"false",ondragstart:"return false"},null,8,$e)]),_:2},1024)]),_:1}),i(n,{"min-width":"40",label:"Prix (\u20AC)",prop:"card_price",align:"right"}),i(n,{"min-width":"40",align:"right"},{header:c(()=>[i(p,{modelValue:a.search,"onUpdate:modelValue":t[1]||(t[1]=b=>a.search=b),size:"small",placeholder:"Filtre"},null,8,["modelValue"])]),default:c(b=>[i(h,{size:"small",type:"danger",icon:a.Delete,onClick:u=>s.removeItem(b.row)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),[[M,a.show]])]),_:1})]),i(_,{name:"el-fade-in-linear",appear:""},{default:c(()=>[k(d("a",{class:"mobileToWork el-button export-btn absolute top-6 right-12",download:"Magicardt.xls",href:"#",id:"anchorNewApi-xls",onClick:t[2]||(t[2]=b=>s.openFile("xls")),draggable:"false",ondragstart:"return false"},"Export",512),[[M,a.show]])]),_:1})],64)}var aa=S(Ze,[["render",ea],["__scopeId","data-v-1133f60e"]]);const ta="https://api.scryfall.com",ra={name:"Gallery",props:{setDatas:Object},data(){return{cards:[]}},beforeMount(){this.cardsDatas()},methods:{cardsDatas(){w.get(`${ta}/cards/search?include_extras=true&include_variations=true&order=set&q=e%3A${this.setDatas.code}&unique=prints`).then(l=>{var t=l.data.data;this.cards=t.map(e=>{var a;return{id:e.id,name:e.name,image:(a=e==null?void 0:e.image_uris)==null?void 0:a.normal}})}).catch(l=>{console.log(l)})},setClick(l){this.emitter.emit("showCardFromGalleryEvent",l)}}},sa={class:"container my-28 px-16 sm:my-32 sm:px-8 md:my-32 md:px-16 lg:my-40 lg:px-32"},la=["onClick","src","alt"];function na(l,t,e,a,r,s){return m(),g("div",sa,[i(z,{name:"bounce",tag:"div",class:"grid gap-4 sm:gap-8 grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8"},{default:c(()=>[(m(!0),g(L,null,N(r.cards,n=>(m(),g("div",{key:n.id,class:"relative pb-3/2"},[d("img",{onClick:p=>s.setClick(n.id),src:n.image,alt:n.name,class:"card absolute object-cover rounded-lg cursor-pointer",draggable:"false",ondragstart:"return false"},null,8,la)]))),128))]),_:1})])}var oa=S(ra,[["render",na],["__scopeId","data-v-d9eb594e"]]),ca="/magicardt/assets/logo.51514dfd.png";const ia={name:"Logo",data:()=>({logo:ca})},da={class:"inline-block flex justify-center"},ma={class:"w-48",href:"/magicardt/",draggable:"false",ondragstart:"return false"},ua=["src"];function ba(l,t,e,a,r,s){return m(),g("div",da,[i(_,{name:"bounce",appear:""},{default:c(()=>[d("a",ma,[d("img",{src:l.logo,alt:"logo"},null,8,ua)])]),_:1})])}var ga=S(ia,[["render",ba],["__scopeId","data-v-05b8db65"]]);function _a(l,t,e="modelValue"){return F({get:()=>l[e],set:a=>t(`update:${e}`,a)})}const ha={props:{label:{type:String,required:!0},modelValue:String,name:{type:String,required:!0},placeholder:{type:String,default:""},successMessage:{type:String,default:""},type:{type:String,default:"text"},value:{type:String,default:""}},setup(l,{emit:t}){const{errorMessage:e,handleBlur:a,handleChange:r,meta:s}=X(l.name,void 0,{initialValue:l.value});return{errorMessage:e,handleBlur:a,handleChange:r,message:_a(l,t,"modelValue"),meta:s}}},pa=["for"],fa=["name","id","type","value","placeholder"];function ya(l,t,e,a,r,s){return m(),g("div",{class:K(["TextInput",{"has-error":!!a.errorMessage,success:a.meta.valid}])},[d("label",{for:e.name},D(e.label),9,pa),k(d("input",{name:e.name,id:e.name,type:e.type,"onUpdate:modelValue":t[0]||(t[0]=n=>a.message=n),autocomplete:"off",value:a.message,placeholder:e.placeholder,onInput:t[1]||(t[1]=(...n)=>a.handleChange&&a.handleChange(...n)),onBlur:t[2]||(t[2]=(...n)=>a.handleBlur&&a.handleBlur(...n))},null,40,fa),[[Q,a.message]]),k(d("p",{class:"help-message"},D(a.errorMessage||e.successMessage),513),[[M,a.errorMessage||a.meta.valid]])],2)}var va=S(ha,[["render",ya],["__scopeId","data-v-154884b2"]]);const I="https://api.scryfall.com",Da=()=>({cardDatas:{artist:"",colors:"",flavor_text:"",id:"",image_uris:{png:"",border_crop:""},loyalty:"",mana_cost:"",name:"",oracle_text:"",power:"",prices:{eur:"",eur_foil:""},set:"",set_name:"",toughness:"",type_line:""},setDatas:{icon_svg_uri:"",name:""}}),Ca={name:"App",components:{Card:He,Cart:aa,Gallery:oa,Logo:ga,Form:J,TextInput:va},data(){return{cardDatas:{artist:"",colors:"",flavor_text:"",id:"",image_uris:{png:"",border_crop:""},loyalty:"",mana_cost:"",name:"",oracle_text:"",power:"",prices:{eur:"",eur_foil:""},set:"",set_name:"",toughness:"",type_line:""},currentComponent:"Card",setDatas:{icon_svg_uri:"",name:""},submitTerm:""}},methods:{reset(){Object.assign(this.$data,Da())},showCard(l){w.get(`${I}/cards/${l}`).then(t=>{this.cardDatas=t.data,this.cardDatas.mana_cost=this.formatSymbols(this.cardDatas.mana_cost),this.cardDatas.oracle_text=this.formatOracleText(this.cardDatas.oracle_text)}).then(async()=>{await w.get(`${I}/sets/${this.cardDatas.set}`).then(t=>{this.setDatas=t.data})}).catch(t=>{console.log(t)})},showGallery(){this.selectedCardName="",this.currentComponent="Gallery"},submitForm(){this.currentComponent="Card";let l=this.setTerm,t=this.selectedCardName===""?this.searchTerm:this.selectedCardName;w.get(`${I}/cards/named`,{params:{exact:t,set:l}}).then(e=>{this.cardDatas=e.data,this.cardDatas.mana_cost=this.formatSymbols(this.cardDatas.mana_cost),this.cardDatas.oracle_text=this.formatOracleText(this.cardDatas.oracle_text)}).then(async()=>{await w.get(`${I}/sets/${this.cardDatas.set}`).then(e=>{this.setDatas=e.data})}).catch(()=>{this.onInvalidSubmit(),this.cardDatas.artist="",this.cardDatas.flavor_text="",this.cardDatas.id="",this.cardDatas.image_uris.png=this.cardback,this.cardDatas.loyalty="",this.cardDatas.mana_cost="",this.cardDatas.name="Carte inexistante \u{1F615}",this.cardDatas.oracle_text="",this.cardDatas.power="",this.cardDatas.set="",this.cardDatas.set_name="",this.cardDatas.toughness="",this.cardDatas.type_line="",this.setDatas.icon_svg_uri="",this.setDatas.name=""})}},mounted(){this.emitter.on("showCardFromGalleryEvent",l=>{this.reset(),setTimeout(()=>{this.currentComponent="Card",this.showCard(l)},500)}),this.emitter.on("showCardFromCartEvent",l=>{setTimeout(()=>{this.currentComponent="Card",this.showCard(l)},300)}),this.emitter.on("showGalleryEvent",()=>{setTimeout(()=>{this.showGallery()},100)})},setup(){const l=x([]),t=x(""),e=x(""),a=x([]),r=x("");$(async()=>{await w.get(`${I}/sets`).then(u=>{a.value=u.data.data})}),ee(()=>t.value,u=>w.get(`${I}/cards/autocomplete?q=${u}`).then(o=>{l.value=o.data.data}));const s=F(()=>{if(t.value==="")return[];let u=0;return l.value.filter(o=>{if(o.toLowerCase().includes(t.value.toLowerCase())&&u<10)return u++,o})}),n=u=>{e.value=u,t.value=""};function p(u){const o=u.replace(/\n/g,"<br/>");return h(o)}function h(u){return u.replaceAll("{T}",'<abbr class="card-symbol card-symbol-T" title="Engagez ce permanent">{T}</abbr>').replaceAll("{Q}",'<abbr class="card-symbol card-symbol-Q" title="D\xE9gagez ce permanent">{Q}</abbr>').replaceAll("{E}",'<abbr class="card-symbol card-symbol-E" title="Marqueur "\xE9nergie"">{E}</abbr>').replaceAll("{CHAOS}",'<abbr class="card-symbol card-symbol-CHAOS" title="Chaos">{CHAOS}</abbr>').replaceAll("{A}",'<abbr class="card-symbol card-symbol-A" title="Marqueur "gland"">{A}</abbr>').replaceAll("{X}",'<abbr class="card-symbol card-symbol-X" title="Mana g\xE9n\xE9rique : X">{X}</abbr>').replaceAll("{Y}",'<abbr class="card-symbol card-symbol-Y" title="Mana g\xE9n\xE9rique : Y">{Y}</abbr>').replaceAll("{Z}",'<abbr class="card-symbol card-symbol-Z" title="Mana g\xE9n\xE9rique : Z">{Z}</abbr>').replaceAll("{\xBD}",'<abbr class="card-symbol card-symbol-HALF" title="Mana g\xE9n\xE9rique : \xBD">{\xBD}</abbr>').replaceAll("{0}",'<abbr class="card-symbol card-symbol-0" title="Mana : 0">{0}</abbr>').replaceAll("{1}",'<abbr class="card-symbol card-symbol-1" title="Mana g\xE9n\xE9rique : 1">{1}</abbr>').replaceAll("{2}",'<abbr class="card-symbol card-symbol-2" title="Mana g\xE9n\xE9rique : 2">{2}</abbr>').replaceAll("{3}",'<abbr class="card-symbol card-symbol-3" title="Mana g\xE9n\xE9rique : 3">{3}</abbr>').replaceAll("{4}",'<abbr class="card-symbol card-symbol-4" title="Mana g\xE9n\xE9rique : 4">{4}</abbr>').replaceAll("{5}",'<abbr class="card-symbol card-symbol-5" title="Mana g\xE9n\xE9rique : 5">{5}</abbr>').replaceAll("{6}",'<abbr class="card-symbol card-symbol-6" title="Mana g\xE9n\xE9rique : 6">{6}</abbr>').replaceAll("{7}",'<abbr class="card-symbol card-symbol-7" title="Mana g\xE9n\xE9rique : 7">{7}</abbr>').replaceAll("{8}",'<abbr class="card-symbol card-symbol-8" title="Mana g\xE9n\xE9rique : 8">{8}</abbr>').replaceAll("{9}",'<abbr class="card-symbol card-symbol-9" title="Mana g\xE9n\xE9rique : 9">{9}</abbr>').replaceAll("{10}",'<abbr class="card-symbol card-symbol-10" title="Mana g\xE9n\xE9rique : 10">{10}</abbr>').replaceAll("{11}",'<abbr class="card-symbol card-symbol-11" title="Mana g\xE9n\xE9rique : 11">{11}</abbr>').replaceAll("{12}",'<abbr class="card-symbol card-symbol-12" title="Mana g\xE9n\xE9rique : 12">{12}</abbr>').replaceAll("{13}",'<abbr class="card-symbol card-symbol-13" title="Mana g\xE9n\xE9rique : 13">{13}</abbr>').replaceAll("{14}",'<abbr class="card-symbol card-symbol-14" title="Mana g\xE9n\xE9rique : 14">{14}</abbr>').replaceAll("{15}",'<abbr class="card-symbol card-symbol-15" title="Mana g\xE9n\xE9rique : 15">{15}</abbr>').replaceAll("{16}",'<abbr class="card-symbol card-symbol-16" title="Mana g\xE9n\xE9rique : 16">{16}</abbr>').replaceAll("{17}",'<abbr class="card-symbol card-symbol-17" title="Mana g\xE9n\xE9rique : 17">{18}</abbr>').replaceAll("{18}",'<abbr class="card-symbol card-symbol-18" title="Mana g\xE9n\xE9rique : 18">{18}</abbr>').replaceAll("{19}",'<abbr class="card-symbol card-symbol-19" title="Mana g\xE9n\xE9rique : 19">{19}</abbr>').replaceAll("{20}",'<abbr class="card-symbol card-symbol-20" title="Mana g\xE9n\xE9rique : 20">{20}</abbr>').replaceAll("{100}",'<abbr class="card-symbol card-symbol-100" title="Mana g\xE9n\xE9rique : 100">{100}</abbr>').replaceAll("{1000000}",'<abbr class="card-symbol card-symbol-1000000" title="Mana g\xE9n\xE9rique : 1000000">{1000000}</abbr>').replaceAll("{\u221E}",'<abbr class="card-symbol card-symbol-INFINITY" title="Mana g\xE9n\xE9rique : \u221E">{\u221E}</abbr>').replaceAll("{W}",'<abbr class="card-symbol card-symbol-W" title="Mana blanc">{W}</abbr>').replaceAll("{U}",'<abbr class="card-symbol card-symbol-U" title="Mana bleu">{U}</abbr>').replaceAll("{B}",'<abbr class="card-symbol card-symbol-B" title="Mana noir">{B}</abbr>').replaceAll("{R}",'<abbr class="card-symbol card-symbol-R" title="Mana rouge">{R}</abbr>').replaceAll("{G}",'<abbr class="card-symbol card-symbol-G" title="Mana vert">{G}</abbr>').replaceAll("{C}",'<abbr class="card-symbol card-symbol-C" title="Mana incolore">{C}</abbr>').replaceAll("{S}",'<abbr class="card-symbol card-symbol-S" title="Mana neige">{S}</abbr>')}function f(){const u=document.querySelector(".submit-btn");u.classList.add("invalid"),setTimeout(()=>{u.classList.remove("invalid")},1e3)}const b=ae(te({name:re().nonempty("Ce champ est requis...").min(2,{message:"Saisissez 2 caract\xE8res minimum..."})}));return{formatOracleText:p,formatSymbols:h,onInvalidSubmit:f,searchCardNames:s,searchResults:l,searchTerm:t,selectCardName:n,selectedCardName:e,setsList:a,setTerm:r,validationSchema:b}}},wa={class:"inline-block container mx-auto"},xa={key:0,class:"autocompletion w-96 rounded bg-light-color border px-3 py-3 space-y-1 absolute z-20"},ka={class:"px-1 pt-1 pb-2 font-bold border-b border-gray-200"},Aa=["onClick"],Ma={key:0,class:"selected-name text-lg pt-2 absolute"},Sa=U(" Vous avez s\xE9lectionn\xE9 : "),Ia={class:"font-semibold"},La=d("button",{class:"submit-btn bg-primary-color cursor-pointer",type:"submit"}," Afficher ",-1);function Ta(l,t,e,a,r,s){const n=C("Cart"),p=C("Logo"),h=C("TextInput"),f=C("el-option"),b=C("el-select"),u=C("Form");return m(),A(se,null,{default:c(()=>[i(oe,{class:"min-w-screen min-h-screen flex items-center"},{default:c(()=>[i(n,{cardDatas:r.cardDatas,setDatas:r.setDatas},null,8,["cardDatas","setDatas"]),i(p),d("div",wa,[d("div",{class:"bg-container",style:G({backgroundImage:`url(${r.cardDatas.image_uris.border_crop})`})},null,4),i(u,{id:"card-form",modelValue:r.submitTerm,"onUpdate:modelValue":t[2]||(t[2]=o=>r.submitTerm=o),onSubmit:s.submitForm,"validation-schema":a.validationSchema,onInvalidSubmit:a.onInvalidSubmit},{default:c(()=>[i(h,{modelValue:a.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=o=>a.searchTerm=o),name:"name",type:"text",label:"Nom de la carte :",placeholder:"Exemple : The Wanderer","success-message":"Bonne recherche !"},null,8,["modelValue"]),i(le,null,{default:c(()=>[a.searchCardNames.length?(m(),g("ul",xa,[d("li",ka," Affichage de "+D(a.searchCardNames.length)+" r\xE9sultat(s) sur "+D(a.searchResults.length),1),(m(!0),g(L,null,N(a.searchCardNames,o=>(m(),g("li",{key:o,onClick:v=>a.selectCardName(o),class:"hover:bg-lightest-primary-color p-1 cursor-pointer"},D(o),9,Aa))),128))])):y("",!0)]),_:1}),i(b,{class:"sets-list font-medievalsharp absolute z-10",modelValue:a.setTerm,"onUpdate:modelValue":t[1]||(t[1]=o=>a.setTerm=o),filterable:"",clearable:"",placeholder:"Pr\xE9cisez le set (facultatif)"},{default:c(()=>[(m(!0),g(L,null,N(a.setsList,o=>(m(),A(f,{key:o.setTerm,label:o.name,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a.selectedCardName?(m(),g("p",Ma,[Sa,d("span",Ia,D(a.selectedCardName),1)])):y("",!0),La]),_:1},8,["modelValue","onSubmit","validation-schema","onInvalidSubmit"]),(m(),A(ne(r.currentComponent),{cardDatas:r.cardDatas,setDatas:r.setDatas},null,8,["cardDatas","setDatas"]))])]),_:1})]),_:1})}var qa=S(Ca,[["render",Ta]]);var Ea=ce({theme:!1});const Va="modulepreload",B={},Na="/magicardt/",Fa=function(t,e){return!e||e.length===0?t():Promise.all(e.map(a=>{if(a=`${Na}${a}`,a in B)return;B[a]=!0;const r=a.endsWith(".css"),s=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${s}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":Va,r||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),r)return new Promise((p,h)=>{n.addEventListener("load",p),n.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};async function Oa(){(await Fa(()=>import("./webfontloader.cd097671.js").then(function(t){return t.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Oa();const Ba=ue(),T=ie(qa);T.use(Ea);T.use(de,{locale:me});T.config.globalProperties.emitter=Ba;T.mount("#app");
